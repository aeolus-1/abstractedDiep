<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>thing</title>
    <style>
        body {
            margin: 0%;
            overflow: hidden;
        }
    </style>
    <script src="socket.io.min.js"></script>
</head>
<body>
    <canvas id="c"></canvas>
    <script>
        var canvas = document.getElementById("c"),
            ctx = canvas.getContext("2d")

        canvas.width = window.innerWidth
        canvas.height = window.innerHeight

        document.body.onload = ()=>{
            const socket = io("http://10.11.0.106:4545/")
            window.socket = socket

            socket.on("connect", (e)=>{
                console.log("connected")

                socket.emit("join", "")
                socket.on("joined", (e)=>{
                    window.CLIENT_ID = e.sid
                    window.MOBILE_ID = e.mobId


                    setInterval(() => {
                        socket.emit("requestState", "hi")
                    }, 1000/20);
                })
                
                
            })
            socket.on("returnState", (e)=>{
                window.gameState = e
                cameraPos = e.cameraPos
            })



            requestAnimationFrame(renderLoop)

        }
    </script>

    <script src="main.js"></script>
</body>
</html>